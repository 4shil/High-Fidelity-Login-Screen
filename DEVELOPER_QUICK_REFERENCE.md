# ğŸ“ DEVELOPER QUICK REFERENCE â€” ONE-PAGE CHEAT SHEET\n\n**JPM College App - 2025 Final Edition**\n\n---\n\n## âš¡ QUICK IMPORTS\n\n```typescript\n// Types\nimport { User, Admin, Student, Teacher } from '@/types'\nimport { AdminRole, TeacherRole } from '@/types'\nimport { Attendance, Assignment, Exam, Notice } from '@/types'\n\n// Constants\nimport { ADMIN_ROLES, TEACHER_ROLES } from '@/constants'\nimport { APPROVAL_STATUS, EXAM_TYPES, ATTENDANCE_STATUS } from '@/constants'\nimport { STORAGE_BUCKETS } from '@/types'\n\n// Utilities\nimport { \n  getRoleDisplayName, isAdminRole, isTeacherRole,\n  formatDate, formatCurrency, formatTime,\n  isValidEmail, isValidPassword,\n  calculateAttendancePercentage, calculateGPA,\n  generateTicketNumber, generateToken\n} from '@/utils'\n\n// Hooks\nimport { useAuth, useRole, useHasPermission, useCanAccessModule } from '@/hooks'\n\n// Context\nimport { AuthContext, AuthProvider } from '@/context/AuthContext'\nimport { RoleContext, RoleProvider } from '@/context/RoleContext'\n```\n\n---\n\n## ğŸ”‘ COMMON PATTERNS\n\n### Check Permission\n```typescript\nconst MyComponent = () => {\n  const { hasPermission } = useRole()\n  \n  if (!hasPermission('mark_attendance')) {\n    return <AccessDenied />\n  }\n  \n  return <AttendanceMarking />\n}\n```\n\n### Check Module Access\n```typescript\nconst MyComponent = () => {\n  const { canAccessModule } = useRole()\n  \n  if (!canAccessModule('admin-dashboard')) {\n    return <Redirect to=\"/\" />\n  }\n  \n  return <AdminDashboard />\n}\n```\n\n### Get Current User\n```typescript\nconst MyComponent = () => {\n  const { user, isAuthenticated } = useAuth()\n  \n  if (!isAuthenticated) {\n    return <LoginPage />\n  }\n  \n  return <Dashboard user={user} />\n}\n```\n\n### Format Data\n```typescript\nconst displayDate = formatDate(new Date())     // \"25 November 2025\"\nconst displayTime = formatTime(\"14:30\")        // \"2:30 PM\"\nconst displayAmount = formatCurrency(5000)     // \"â‚¹5,000.00\"\nconst percentage = formatPercentage(85.5)      // \"85.50%\"\n```\n\n### Validate Input\n```typescript\nconst isValidEmailFormat = isValidEmail(email)      // boolean\nconst isStrongPassword = isValidPassword(password)  // boolean\nconst strength = getPasswordStrength(password)      // 'weak'|'medium'|'strong'\n```\n\n### Generate Codes\n```typescript\nconst ticket = generateTicketNumber()  // \"TKT1732502400123456\"\nconst token = generateToken(6)         // \"ABC123\" (random 6 chars)\n```\n\n### Role Check\n```typescript\nconst { currentRole } = useRole()\n\nif (isAdminRole(currentRole)) {       // Admin module\nif (isTeacherRole(currentRole)) {     // Teacher module  \nif (isStudentRole(currentRole)) {     // Student module\n```\n\n---\n\n## ğŸ“ FOLDER STRUCTURE QUICK REF\n\n```\nsrc/\nâ”œâ”€â”€ modules/\nâ”‚   â”œâ”€â”€ admin/          â†’ 9 roles (super-admin, principal, hod, etc.)\nâ”‚   â”œâ”€â”€ teacher/        â†’ 5 roles (subject-teacher to hod)\nâ”‚   â”œâ”€â”€ student/        â†’ 18 features (dashboard, attendance, etc.)\nâ”‚   â””â”€â”€ shared/         â†’ Reusable components\nâ”œâ”€â”€ context/            â†’ AuthContext, RoleContext\nâ”œâ”€â”€ types/              â†’ TypeScript interfaces (50+)\nâ”œâ”€â”€ constants/          â†’ Enums & constants\nâ”œâ”€â”€ utils/              â†’ Helper functions (40+)\nâ”œâ”€â”€ hooks/              â†’ Custom hooks (4)\nâ”œâ”€â”€ components/         â†’ Existing UI components (preserved)\nâ””â”€â”€ App.tsx             â†’ Main router\n```\n\n---\n\n## ğŸ”’ PERMISSION SYSTEM\n\n### Admin Permissions\n```\nsuper-admin: 'all'\nprincipal: 'view_analytics', 'approve_work_diary', 'block_unblock_users'\ndepartment-admin: 'view_dept_students', 'block_unblock_students'\nhod: 'approve_planner', 'approve_diary', 'assign_subjects'\nexam-cell-admin: 'set_exam_dates', 'verify_marks'\nlibrary-admin: 'manage_books', 'issue_return'\nbus-admin: 'manage_routes', 'approve_selections'\ncanteen-admin: 'manage_menu', 'manage_tokens'\nfee-admin: 'create_structure', 'verify_payments'\n```\n\n### Teacher Permissions\n```\nsubject-teacher: 'mark_attendance', 'upload_materials', 'grade_submissions'\nclass-teacher: (+ above) 'view_class_students', 'make_announcements'\nmentor: (+ above) 'view_mentee_profiles', 'add_counselling_notes'\ncoordinator: (+ above) 'assign_substitutes', 'access_temp_tools'\nhod: (+ above) 'approve_planner', 'approve_diary', 'assign_subjects'\n```\n\n### Student Permissions\n```\nstudent: 'view_dashboard', 'view_attendance', 'submit_assignments',\n         'view_marks', 'book_library', 'select_bus'\n```\n\n---\n\n## ğŸ“Š COMMON CALCULATIONS\n\n```typescript\n// Attendance\nconst percentage = calculateAttendancePercentage(80, 100)  // 80.00%\n\n// Marks\nconst gpa = calculateGPA(85, 100)      // 3.5 out of 4.0\nconst cgpa = calculateCGPA([3.5, 3.8, 4.0])  // 3.77\n\n// Library\nconst fine = calculateFine(5, 50)      // 5 days * â‚¹50/day = â‚¹250\n```\n\n---\n\n## ğŸ—„ï¸ DATABASE TABLES\n\n```\nUsers              Departments        Subjects\nAttendance         Years              Divisions\nExams              ExamSubjects       Timetable\nTimetablePeriods   InternalMarks      ExternalMarks\nMaterials          Assignments        AssignmentSubmissions\nLibraryBooks       BookIssues         BookReservations\nBusRoutes          BusStops           BusSelections\nCanteenMenu        CanteenTokens      FeeStructure\nFeePayments        Complaints         AuditLogs\nNotifications      HonorSelections    LessonPlanner\nWorkDiary\n```\n\n---\n\n## ğŸ’¾ STORAGE BUCKETS\n\n```\nSTORAGE_BUCKETS.PROFILE_PICTURES\nSTORAGE_BUCKETS.TEACHING_MATERIALS\nSTORAGE_BUCKETS.ASSIGNMENTS\nSTORAGE_BUCKETS.ASSIGNMENT_SUBMISSIONS\nSTORAGE_BUCKETS.EXAM_QUESTION_PAPERS\nSTORAGE_BUCKETS.EXAM_EXTERNAL_UPLOADS\nSTORAGE_BUCKETS.LIBRARY_DOCUMENTS\nSTORAGE_BUCKETS.EVENT_POSTERS\nSTORAGE_BUCKETS.EVENT_CERTIFICATES\nSTORAGE_BUCKETS.CANTEEN_MENU\nSTORAGE_BUCKETS.BUS_ROUTE_FILES\nSTORAGE_BUCKETS.GENERAL_NOTICES\n```\n\n---\n\n## ğŸ”„ STATE MANAGEMENT FLOW\n\n```\nUser Action\n    â†“\n[Component Event]\n    â†“\n[useAuth/useRole Hook]\n    â†“\n[Context Update]\n    â†“\n[Component Re-render]\n    â†“\n[Display New State]\n```\n\n---\n\n## ğŸš€ CREATE NEW FEATURE\n\n### 1. Define Types\n```typescript\n// Add to src/types/index.ts\nexport interface MyFeature {\n  id: string;\n  title: string;\n  // ...\n}\n```\n\n### 2. Add Constants\n```typescript\n// Add to src/constants/index.ts\nexport const MY_FEATURE_STATUS = {\n  ACTIVE: 'active',\n  INACTIVE: 'inactive',\n}\n```\n\n### 3. Create Folder\n```bash\nmkdir -p src/modules/{module}/{feature}/\n```\n\n### 4. Create Component\n```typescript\n// src/modules/{module}/{feature}/index.tsx\nimport { useAuth } from '@/hooks'\nimport { MyFeature } from '@/types'\n\nexport default function MyFeature() {\n  const { user } = useAuth()\n  \n  return (\n    <div className=\"p-6\">\n      <h1>My Feature</h1>\n      {/* Component JSX */}\n    </div>\n  )\n}\n```\n\n### 5. Use Type\n```typescript\nconst feature: MyFeature = {\n  id: '1',\n  title: 'My Title',\n}\n```\n\n---\n\n## ğŸ› DEBUG TIPS\n\n### Check Current Role\n```typescript\nconst { currentRole } = useRole()\nconsole.log('Current Role:', currentRole)  // Check if set\n```\n\n### Check Permissions\n```typescript\nconst { hasPermission } = useRole()\nconsole.log('Has Permission:', hasPermission('mark_attendance'))\n```\n\n### Check Auth State\n```typescript\nconst { user, isAuthenticated } = useAuth()\nconsole.log('User:', user)\nconsole.log('Authenticated:', isAuthenticated)\n```\n\n### Check TypeScript Errors\n```bash\nnpx tsc --noEmit      # Check without emitting\nnpm run build         # Full build check\n```\n\n### Check Console\n```typescript\nconsole.log('Value:', value)     // Debug values\nconsole.error('Error:', error)   // Debug errors\nconsole.warn('Warning:', message) // Debug warnings\n```\n\n---\n\n## ğŸ“¦ COMMON PACKAGES\n\n```json\n{\n  \"dependencies\": {\n    \"react\": \"^18.3.1\",\n    \"react-dom\": \"^18.3.1\",\n    \"@radix-ui/*\": \"Latest\",\n    \"tailwindcss\": \"*\",\n    \"lucide-react\": \"^0.487.0\",\n    \"sonner\": \"^2.0.3\",\n    \"@supabase/supabase-js\": \"Latest\"\n  }\n}\n```\n\n---\n\n## ğŸ¨ STYLING\n\n### Tailwind Classes\n```tsx\n<div className=\"p-6 bg-white rounded-lg shadow-lg\">\n  <h1 className=\"text-2xl font-bold text-gray-900\">Title</h1>\n  <p className=\"mt-2 text-gray-600\">Description</p>\n</div>\n```\n\n### Dark Mode\n```tsx\n<div className=\"dark:bg-gray-900 dark:text-white bg-white text-black\">\n  Content\n</div>\n```\n\n### Responsive\n```tsx\n<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3\">\n  {items.map(item => <Card key={item.id} {...item} />)}\n</div>\n```\n\n---\n\n## ğŸ”— USEFUL LINKS\n\n- **Types:** `src/types/index.ts`\n- **Constants:** `src/constants/index.ts`\n- **Utils:** `src/utils/index.ts`\n- **Hooks:** `src/hooks/index.ts`\n- **Auth:** `src/context/AuthContext.tsx`\n- **Role:** `src/context/RoleContext.tsx`\n- **Spec:** `JPM_COLLEGE_APP_SPECIFICATION.md`\n- **Structure:** `MODULE_STRUCTURE.md`\n- **Quick Start:** `QUICK_START.md`\n\n---\n\n## âœ… CHECKLIST FOR NEW COMPONENT\n\n- [ ] Define types in `src/types/index.ts`\n- [ ] Add constants in `src/constants/index.ts`\n- [ ] Create folder in `src/modules/{module}/{feature}/`\n- [ ] Create index.tsx component\n- [ ] Add permissions check with `useHasPermission`\n- [ ] Add authentication check with `useAuth`\n- [ ] Use Tailwind for styling\n- [ ] Add error handling\n- [ ] Add loading states\n- [ ] Export from module index\n- [ ] Test with dev server\n- [ ] Add to route if needed\n\n---\n\n## ğŸš€ QUICK COMMANDS\n\n```bash\n# Install dependencies\nnpm install\n\n# Start dev server\nnpm run dev\n\n# Build for production\nnpm run build\n\n# Check TypeScript\nnpx tsc --noEmit\n\n# Format code\nnpm run format  (if configured)\n\n# Lint code\nnpm run lint    (if configured)\n```\n\n---\n\n## ğŸ’¡ BEST PRACTICES\n\nâœ… Always check permissions before showing features\nâœ… Use TypeScript types for all data\nâœ… Validate input on client & server\nâœ… Handle loading & error states\nâœ… Use context for global state\nâœ… Keep components small & focused\nâœ… Use custom hooks for logic\nâœ… Log errors for debugging\nâœ… Add comments for complex logic\nâœ… Test features before committing\n\n---\n\n**Print this page for quick reference!** ğŸ–¨ï¸\n\n**Version:** 2025 Final Edition  \n**Date:** November 25, 2025\n